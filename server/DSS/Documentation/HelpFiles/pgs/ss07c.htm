<HTML>

	<HEAD>
		<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=iso-8859-1">
		<TITLE>Using QTSSAccessModule</TITLE>
		<META NAME="DP" CONTENT="1.9.1/4.0.1">
	</HEAD>

	<BODY BGCOLOR="#ffffff">
		<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="349">
			<TR VALIGN="top">
				<TD><FONT FACE="Helvetica,Arial" SIZE="4" COLOR="#330099"><B>Using QTSSAccessModule </B> </FONT>
					<UL>
						<P><FONT FACE="Geneva,Arial" SIZE="2">To use QTSSAccessModule you must:<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" WIDTH="309">
							<TR VALIGN="top">
								<TD WIDTH="16"><FONT FACE="Geneva,Arial" SIZE="2" COLOR="#666666">&#149;</FONT></TD>
								<TD WIDTH="284"><FONT FACE="Geneva,Arial" SIZE="2">create an access file</FONT></TD>
							</TR>
							<TR VALIGN="top">
								<TD WIDTH="16"><FONT FACE="Geneva,Arial" SIZE="2" COLOR="#666666">&#149;</FONT></TD>
								<TD WIDTH="284"><FONT FACE="Geneva,Arial" SIZE="2">create a user file </FONT></TD>
							</TR>
							<TR VALIGN="top">
								<TD WIDTH="16"><FONT FACE="Geneva,Arial" SIZE="2" COLOR="#666666">&#149;</FONT></TD>
								<TD WIDTH="284"><FONT FACE="Geneva,Arial" SIZE="2">add users to the file</FONT></TD>
							</TR>
						</TABLE></FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">You can also create a group file, but it's optional.</FONT></P>
					</UL>
					<P><FONT FACE="Helvetica,Arial" COLOR="#330099"><B>Creating an access file </B></FONT></P>
					<UL>
						<P><FONT FACE="Geneva,Arial" SIZE="2">An access file is a text file that contains information about users and groups who are authorized to view media in the directory in which the access file is stored. The directory you use to store streamed media can contain other directories. Each directory can have its own access file. When a user tries to view a media file, Darwin Streaming Server checks for an access file to see whether the user is authorized to view the media. The server first looks for an access file in the directory where the media file is located. If an access file is not found, it looks up the directory hierarchy. The first access file that's found is used to determine whether a user is authorized to view the media file. </FONT></P>
						<P><FONT FACE="Helvetica,Arial" SIZE="2" COLOR="#330099"><B>Note:</B></FONT><FONT FACE="Geneva,Arial" SIZE="2"> The access file for Darwin Streaming Server works similarly to the Apache Web server access file. </FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">You create an access file with any text editor. The filename must be qtaccess and the file must follow this format:</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">AuthName &lt;message&gt;<BR>
						AuthUserFile &lt;user filename&gt;<BR>
						AuthGroupFile &lt;group filename&gt;<BR>
						require user &lt;username1&gt; &lt;username2&gt;<BR>
						require group &lt;groupname1&gt; &lt;groupname2&gt;<BR>
						</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">Anything not in angled brackets is a keyword. Anything in angled brackets is information you supply.<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" WIDTH="309">
							<TR VALIGN="top">
								<TD WIDTH="16"><FONT FACE="Geneva,Arial" SIZE="2" COLOR="#666666">&#149;</FONT></TD>
								<TD WIDTH="284"><FONT FACE="Geneva,Arial" SIZE="2">&quot;Message&quot; is text your users see when the login window appears. It's optional.</FONT></TD>
							</TR>
							<TR VALIGN="top">
								<TD WIDTH="16"></TD>
								<TD WIDTH="284"><FONT FACE="Geneva,Arial" SIZE="2">If your message contains any white space (such as a space character between terms), make sure you enclose the entire message string in quotation marks.</FONT></TD>
							</TR>
							<TR VALIGN="top">
								<TD WIDTH="16"><FONT FACE="Geneva,Arial" SIZE="2" COLOR="#666666">&#149;</FONT></TD>
								<TD WIDTH="284"><FONT FACE="Geneva,Arial" SIZE="2">&quot;User filename&quot; is the path and filename of the user file. The default is /etc/qtusers.</FONT></TD>
							</TR>
							<TR VALIGN="top">
								<TD WIDTH="16"><FONT FACE="Geneva,Arial" SIZE="2" COLOR="#666666">&#149;</FONT></TD>
								<TD WIDTH="284"><FONT FACE="Geneva,Arial" SIZE="2">&quot;Group filename&quot; is the path and filename of the user file. The default is /etc/qtgroups. A group file is optional. If you have a lot of users you may find it easier to set up one or more groups, then enter the group names, rather than list each user.</FONT></TD>
							</TR>
							<TR VALIGN="top">
								<TD WIDTH="16"><FONT FACE="Geneva,Arial" SIZE="2" COLOR="#666666">&#149;</FONT></TD>
								<TD WIDTH="284"><FONT FACE="Geneva,Arial" SIZE="2">&quot;Username&quot; is a user who is authorized to log in and view the media file. The user's name must be in the user file you specified. You can also specify valid_user, which designates any valid user.</FONT></TD>
							</TR>
							<TR VALIGN="top">
								<TD WIDTH="16"><FONT FACE="Geneva,Arial" SIZE="2" COLOR="#666666">&#149;</FONT></TD>
								<TD WIDTH="284"><FONT FACE="Geneva,Arial" SIZE="2">&quot;Groupname&quot; is a group whose members are authorized to log in and view the media file. The group and its members must be listed in the group file you specified.</FONT></TD>
							</TR>
						</TABLE></FONT></P>
					</UL>
					<P><FONT FACE="Helvetica,Arial" COLOR="#330099"><B>Creating a user file </B></FONT></P>
					<UL>
						<P><FONT FACE="Geneva,Arial" SIZE="2">To let users access your media files, you must add them to a user file.</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">To create a user file, open a terminal window and type the following:</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">qtpasswd -c &lt;user filename&gt; &lt;user-name&gt;</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">You'll be asked to enter a password for the user.</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">A file is created with the user you specified.</FONT></P>
						<P><FONT FACE="Helvetica,Arial" SIZE="2" COLOR="#330099"><B>Note:</B></FONT><FONT FACE="Geneva,Arial" SIZE="2"> The -c option means create a file. You use this option only once; otherwise you will overwrite a previously created user file.</FONT></P>
					</UL>
					<P><FONT FACE="Helvetica,Arial" COLOR="#330099"><B>Adding users to the user file </B></FONT></P>
					<UL>
						<P><FONT FACE="Geneva,Arial" SIZE="2">To add a user to the user file, open a terminal shell and type:</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">qtpasswd &lt;user filename&gt; &lt;user-name&gt;</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">You'll be asked to enter a password for the user. Then re-enter the same password a second time when prompted.</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">You can allow access to any user by typing:</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">qtpasswd &lt;user filename&gt; valid_user</FONT></P>
					</UL>
					<P><FONT FACE="Helvetica,Arial" COLOR="#330099"><B>Adding or deleting groups </B></FONT></P>
					<UL>
						<P><FONT FACE="Geneva,Arial" SIZE="2">You can create a group file with any text editor as long as it follows this format:</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">&lt;groupname&gt;: &lt;user-name1&gt; &lt;user-name2&gt; &lt;user-name3&gt;</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">To add or delete a group, edit the text file you set up.</FONT></P>
					</UL>
					<P><FONT FACE="Helvetica,Arial" COLOR="#330099"><B>Deleting users </B></FONT></P>
					<UL>
						<P><FONT FACE="Geneva,Arial" SIZE="2">To delete a user from a user or group file:</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">Use a text editor to open the user or group file. Delete the user name and encrypted password from the user file; delete the user name from the group file.</FONT></P>
					</UL>
					<P><FONT FACE="Helvetica,Arial" COLOR="#330099"><B>Changing a password </B></FONT></P>
					<UL>
						<P><FONT FACE="Geneva,Arial" SIZE="2">To change a user password, open a terminal shell and type the following:</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">qtsspasswd &lt;user filename&gt; &lt;user-name&gt;</FONT></P>
						<P><FONT FACE="Geneva,Arial" SIZE="2">You'll be asked to enter a password for the user. The password you enter replaces the password that's in the file.</FONT></P>
					</UL>
					<P><FONT FACE="Helvetica,Arial" COLOR="#330099"><B>Related topic </B></FONT></P>
					<UL>
						<P><TABLE BORDER="0" CELLPADDING="0" CELLSPACING="5" WIDTH="309">
							<TR VALIGN="top">
								<TD WIDTH="11" BGCOLOR="#cccccc">&nbsp;</TD>
								<TD WIDTH="283"><FONT FACE="Geneva,Arial" SIZE="2"><A HREF="ss07a.htm">Setting up authentication</A></FONT></TD>
							</TR>
						</TABLE></P>
					</UL>
					<P>&nbsp;</TD>
			</TR>
			<TR>
				<TD ALIGN="center"><FONT FACE="Geneva,Arial" SIZE="1">
					<HR>
					<A HREF="../index.htm">Table of contents</A></FONT></TD>
			</TR>
		</TABLE>
	</BODY>

</HTML>
