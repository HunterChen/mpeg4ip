<HTML>
<HEAD>
<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=Shift_JIS">
<TITLE>Streaming Server Admin:<%%ECHODATA /server/qtssSvrDefaultDNSName%%></TITLE>
<SCRIPT LANGUAGE="JavaScript" TYPE="text/javascript">		
function setOpts() {
 	document.forms[0].elements[1].defaultValue = document.forms[0].elements[1].value;
 	document.forms[0].elements[2].defaultChecked = document.forms[0].elements[2].checked;
 	document.forms[0].elements[3].defaultChecked = document.forms[0].elements[3].checked;
 	document.forms[0].elements[4].defaultChecked = document.forms[0].elements[4].checked;
 	document.forms[0].elements[5].defaultChecked = document.forms[0].elements[5].checked;
 	document.forms[0].elements[6].defaultValue = document.forms[0].elements[6].value;
 	document.forms[0].elements[7].defaultValue = document.forms[0].elements[7].value;
 	document.forms[0].elements[8].options[0].defaultSelected = document.forms[0].elements[8].options[0].selected;
 	document.forms[0].elements[8].options[1].defaultSelected = document.forms[0].elements[8].options[1].selected;
 	<%%IFOSX 'document.forms[0].elements[9].defaultChecked = document.forms[0].elements[9].checked;'%%>
}
 
function checkValue(field) {
	if((field.value < 0) || (((field.name == "Maximum Number of Connections") || (field.name == "Maximum Throughput")) && (field.value != Math.round(field.value)))) {
		if(field.name == "Maximum Number of Connections")
			<!--Localize - The text within the double quotes must be localized -->
			alert("最大接続数には正の整数値を指定してください");
		else <!--Localize - The text within the double quotes must be localized -->
			alert("最大スループットには正の整数値を指定してください");
			
		field.value = field.defaultValue;
	}
}

function submitChangedValues() {
	if(document.forms[0].elements[1].defaultValue == document.forms[0].elements[1].value)
		document.forms[0].elements[1].name += "$";
	if((document.forms[0].elements[2].defaultChecked == document.forms[0].elements[2].checked) &&
	 (document.forms[0].elements[3].defaultChecked == document.forms[0].elements[3].checked)) {
			document.forms[0].elements[2].name += "$";
			document.forms[0].elements[3].name += "$";
	}
	else {
		if(document.forms[0].elements[2].checked) {
			document.forms[0].elements[2].value = "basic";
			document.forms[0].elements[3].value = "basic";
		}
		else {
			document.forms[0].elements[2].value = "digest";
			document.forms[0].elements[3].value = "digest";
		}
	}	
	if((document.forms[0].elements[4].defaultChecked == document.forms[0].elements[4].checked) &&
	 (document.forms[0].elements[5].defaultChecked == document.forms[0].elements[5].checked)) {
			document.forms[0].elements[4].name += "$";
			document.forms[0].elements[5].name += "$";
	}
	else {
		if(document.forms[0].elements[4].checked) {
			document.forms[0].elements[4].value = "on";
			document.forms[0].elements[5].value = "on";
		}
		else {
			document.forms[0].elements[4].value = "off";
			document.forms[0].elements[5].value = "off";
		}
	}
	if(document.forms[0].elements[6].defaultValue == document.forms[0].elements[6].value)
		document.forms[0].elements[6].name += "$";
	if(document.forms[0].elements[7].defaultValue == document.forms[0].elements[7].value)
		document.forms[0].elements[7].name += "$";
	if(document.forms[0].elements[8].options[0].defaultSelected == document.forms[0].elements[8].options[0].selected)
		document.forms[0].elements[8].name += "$";
	<%%IFOSX '
	if(document.forms[0].elements[9].defaultChecked == document.forms[0].elements[9].checked) {
		document.forms[0].elements[9].name += "$";
	}
	else {
		if(document.forms[0].elements[9].checked)
			document.forms[0].elements[9].value = "1";
		else
			document.forms[0].elements[9].value = "0";
		document.forms[0].elements[9].checked = true;
	}
	if(document.forms[0].elements[10].value == "") {
	    document.forms[0].elements[11].value == "";
		document.forms[0].elements[10].name += "$";
	}
	else if (document.forms[0].elements[10].value == document.forms[0].elements[11].value) {
		document.forms[0].elements[11].value = "";
	}
	else {
		document.forms[0].elements[10].value = "";
		document.forms[0].elements[11].value = "";
		document.forms[0].elements[10].name += "$";
	}'%%>
	
	<%%IFNOTOSX '
	if(document.forms[0].elements[9].value == "") {
	    document.forms[0].elements[10].value == "";
		document.forms[0].elements[9].name += "$";
	}
	else if (document.forms[0].elements[9].value == document.forms[0].elements[10].value) {
		document.forms[0].elements[10].value = "";
	}
	else {
		document.forms[0].elements[9].value = "";
		document.forms[0].elements[10].value = "";
		document.forms[0].elements[9].name += "$";
	}'%%>
	document.forms[0].submit();		
}

function init() {
toploded = top.nav.loded;
	if(typeof(toploded) == "number") {
	top.nav.selekt('2');
	top.nav.subSelekt('2A');
	setOpts();
	} else {
	setTimeout("init()", 200);
	}
}

function initAndSetOpts() {
	init();
	setOpts();
}


</SCRIPT>
<STYLE TYPE="text/css">
<!--
		TD { font-size: 12px; line-height: 14px; margin-top: 0px; margin-left: 0px; font-weight: plain; margin-bottom: 0px; }
		.headline { font-size: 24px; line-height: 24px; margin-top: 0px; margin-left: 0px; font-weight: plain; margin-bottom: 0px; color: #B7BED2; }
		.whiteheader { font-size: 16px; line-height: 17px; margin-top: 0px; margin-left: 0px; font-weight: bold; margin-bottom: 0px; color: #FFFFFF; }
		.dkgrayheader { font-size: 13px; line-height: 15px; margin-top: 0px; margin-left: 0px; font-weight: bold; margin-bottom: 0px; color: #333333; }
		.copyheader { font-size: 12px; line-height: 14px; margin-top: 0px; margin-left: 0px; font-weight: bold; margin-bottom: 0px; }
-->
</STYLE>  
</HEAD>
<BODY BGCOLOR="#FFFFFF" onLoad="initAndSetOpts()">
<FORM NAME="generalsettings" METHOD="GET" ACTION="setgensettings.cgi">
<CENTER>
<BR>
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="85%" HEIGHT=32>
   <TR>
	<TD WIDTH="455" CLASS="headline">一般設定</TD>
      <TD ALIGN="center" WIDTH="100"><INPUT TYPE=submit NAME="Submit" VALUE="送信" onClick="submitChangedValues()"></TD>
   </TR>
</TABLE>
 <TABLE BORDER="0" CELLSPACING="4" CELLPADDING="1" ALIGN="CENTER">
            <TR>
               <TD ALIGN="right" CLASS="copyheader">ムービーディレクトリ：</TD>
               <TD><INPUT TYPE=text NAME="Movies Directory" VALUE="<%%ECHODATA /server/qtssSvrPreferences/movie_folder%%>" SIZE=50></TD>
            </TR>
            <TR>
               <TD></TD>
               <TD><BR>
                  <BR></TD>
            </TR>
            <TR>
            	 <%%GETVALUE authscheme /server/qtssSvrPreferences/authentication_scheme%%>
            	 <%%IFVALUEEQUALS isBasic authscheme 'basic'%%>
            	 <%%IFVALUEEQUALS isDigest authscheme 'digest'%%>
                 <TD ALIGN="right" CLASS="copyheader">認証方式：</TD>
               <TD><%%FORMATRADIOBUTTON isBasic 'Authentication Scheme' 'basic' checked%%>ベーシック</TD>
            </TR>
            <TR>
               <TD></TD> 
               <TD><%%FORMATRADIOBUTTON isDigest 'Authentication Scheme' 'digest' checked%%>ダイジェスト</TD>
            </TR>
            <TR>
		       <TD></TD>
               <TD>
                  <BR></TD>
            </TR>
            <TR>
               	<%%GETDATA rtspport /server/qtssSvrPreferences/rtsp_port/*%%>
 				<%%MAKEARRAY ports /server/qtssSvrPreferences/rtsp_port/ rtspport%%>
    			<%%HASVALUE has80 ports '80' num%%>
                  <TD ALIGN="right" CLASS="copyheader">ポート 80 のストリーミング：</TD>               
               <TD><%%FORMATRADIOBUTTON has80 'Streaming on Port 80' 'on' checked%%>入</TD>
            </TR>
            <TR>
               <TD></TD>
               <TD><%%FORMATRADIOBUTTON has80 'Streaming on Port 80' 'off' unchecked%%>切</TD>
            </TR>
            <TR>
               <TD></TD>
               <TD>
                  <BR></TD>
            </TR>
            <TR>
               <TD ALIGN="right" CLASS="copyheader">最大接続数：</TD>
               <TD><INPUT TYPE=text NAME="Maximum Number of Connections" VALUE="<%%ECHODATA /server/qtssSvrPreferences/maximum_connections%%>" SIZE=4 MAXLENGTH=4 ONCHANGE="checkValue(this)"></TD>
            </TR>
            <TR>
               <TD></TD>
               <TD>
                  <BR></TD>
            </TR>
            <TR>
               <TD ALIGN="right" CLASS="copyheader">最大スループット：</TD>
               <TD>
               		<%%GETVALUE maxThroughput /server/qtssSvrPreferences/maximum_bandwidth%%>
					<INPUT TYPE=text NAME="Maximum Throughput" VALUE="<%%MODIFYDATA maxThroughput '> 9999' '/ 1024'%%>" SIZE=4 MAXLENGTH=4 ONCHANGE="checkValue(this)">
					<!--Localize - 'Kbps' (Kilobits per sec) and 'Mbps' (Megabits per sec) are the units for the maximum throughput --> 
					<%%FORMATSELECTOPTION maxThroughput 'Display Throughput' '< 9999' 'Kbps' 'Mbps' 1%%>
               </TD>
            </TR>
            <TR>
               <TD></TD>
               <TD><BR>
                  <BR></TD>
            </TR>
            <%%IFOSX '<TR>
               <TD ALIGN="right" CLASS="copyheader">システム起動時にサーバを開始：</TD>
               <TD>'%%>
             <%%IFOSXAUTOSTARTCHECKBOX%%> <%%IFOSX '</TD>
            </TR>
            <TR>
               <TD></TD>
               <TD><BR>
                  <BR></TD>
            </TR>'%%>
            <TR>
				<TD ALIGN="right" CLASS="copyheader">管理者の新しいパスワード：</TD>
				<TD><INPUT TYPE="password" NAME="Administrator Password" VALUE="" SIZE="32"></TD>
			</TR>
			<TR>
				<TD ALIGN="right" CLASS="copyheader">管理者の新しいパスワードを再入力：</TD>
				<TD><INPUT TYPE="password" NAME="Administrator Password2" VALUE="" SIZE="32"></TD>
			</TR>
</TABLE>
</CENTER>
</FORM>
</BODY>
</HTML>
